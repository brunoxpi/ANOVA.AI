<div class="fixed inset-0 bg-black/60 z-40" (click)="onClose()"></div>
<div class="fixed inset-0 flex items-center justify-center z-50 p-4">
  <div class="bg-secondary-light rounded-lg shadow-xl w-full max-w-md" (click)="$event.stopPropagation()">
    <!-- Modal Header -->
    <div class="flex justify-between items-start p-6 border-b border-secondary">
      <div>
        <h3 class="text-xl font-bold text-foreground">Definir Taxas do Cliente</h3>
        <p class="text-sm text-label mt-1">Insira as taxas antes de prosseguir.</p>
      </div>
      <button (click)="onClose()" class="p-2 -m-2 rounded-full hover:bg-secondary transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
    </div>

    <!-- Modal Body -->
    <div class="p-6 space-y-6">
      <div>
        <label for="admin-fee" class="flex items-center text-sm font-medium text-foreground mb-2">
          Taxa de Administração (%) <span class="text-foreground ml-1">*</span>
          <div class="group relative flex items-center ml-2">
             <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-label"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
             <span class="absolute -top-10 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-foreground text-background text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
              Taxa cobrada sobre o patrimônio do cliente.
            </span>
          </div>
        </label>
        <input 
          id="admin-fee"
          type="text"
          class="w-full p-2 bg-secondary-light border border-secondary rounded-md text-sm focus:ring-accent focus:border-accent"
          [value]="adminFee()"
          (input)="updateAdminFee($event)"
        >
      </div>
      <div>
        <label for="performance-fee" class="flex items-center text-sm font-medium text-foreground mb-2">
          Taxa de Performance (%) <span class="text-foreground ml-1">*</span>
           <div class="group relative flex items-center ml-2">
             <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-label"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
             <span class="absolute -top-10 left-1/2 -translate-x-1/2 w-max px-2 py-1 bg-foreground text-background text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
              Taxa cobrada sobre o rendimento que exceder o benchmark.
            </span>
          </div>
        </label>
        <input 
          id="performance-fee"
          type="text"
          class="w-full p-2 bg-secondary-light border border-secondary rounded-md text-sm focus:ring-accent focus:border-accent"
          [value]="performanceFee()"
          (input)="updatePerformanceFee($event)"
        >
      </div>
    </div>
    
    <!-- Modal Footer -->
    <div class="flex justify-end items-center gap-3 p-6 border-t border-secondary bg-background/50 rounded-b-lg">
      <button (click)="onClose()" class="px-4 py-2 bg-secondary-light border border-secondary text-foreground text-sm font-medium rounded-md hover:bg-secondary transition-colors">
        Cancelar
      </button>
      <button 
        (click)="onSave()" 
        class="px-4 py-2 bg-accent text-white text-sm font-medium rounded-md hover:brightness-95 active:brightness-90 transition-all">
        Continuar Cadastro
      </button>
    </div>
  </div>
</div>